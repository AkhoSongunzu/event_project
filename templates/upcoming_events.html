{% extends 'base.html' %}
{% block content %}
{% load static %}

<div class="container p-4">
<h2 class="h2" style="text-align:center">Our Events</h2>

<div class="row">
  {% for event in events %}
  <div class="col-md-4 p-4">
    <div class="card h-100 shadow-lg border-0 rounded-4" style="overflow: hidden; min-height: 430px;">
      {% if event.image %}
        <img src="{{ event.image.url }}" class="card-img-top" style="height: 220px; object-fit: cover;" alt="{{ event.title }}">
      {% else %}
        <img src="{% static 'images/default1.jpg' %}" class="card-img-top" style="height: 220px; object-fit: cover;" alt="Default Event Image">
      {% endif %}
      <div class="card-header text-white text-center" style="background: linear-gradient(90deg, #1f7032 0%, #45d279 100%);">
        <h4 class="mb-0 font-weight-bold" style="letter-spacing: 1px;">{{ event.title }}</h4>
      </div>
      <div class="card-body bg-opacity-10text-dark py-4 text-center">
        <div class="d-flex justify-content-center align-items-center mb-3" style="gap: 18px;">
          <p class="card-text mb-2" style="font-size: 1rem; font-weight: 600; display: flex; align-items: center;">
            <i class="far fa-calendar-alt mr-2 text-success"></i>{{ event.start_date }}
          </p>
          <p class="card-text mb-2" style="font-size: 1rem; font-weight: 600; display: flex; align-items: center;">
            <i class="far fa-clock mr-2 text-success"></i>{{ event.start_time }}
          </p>
        </div>
        <div class="d-flex justify-content-center align-items-center mb-3" style="gap: 18px;">
          <p class="card-text mb-3" style="font-size: 1rem; font-weight: 600; display: flex; align-items: center;">
            <i class="fas fa-map-marker-alt mr-2 text-success"></i>{{ event.city }}
          </p>
          <p class="card-text mb-3" style="font-size: 1rem; font-weight: 600; display: flex; align-items: center;">
            <i class="fas fa-tag mr-2 text-success"></i>{{ event.category }}
          </p>
        </div>
        <a href="{% url 'event_details' event.pk %}" class="btn btn-success btn-block py-2" style="font-size: 1.1rem; font-weight: 600;">View More</a>
      </div>
      
    </div>
  </div>
  {% endfor %}
 
</div>
 <!-- Pagination Controls -->
  {% if events.has_previous %}
    <a class="btn btn-outline-secondary" href="?page=1">&laquo; First</a>
    <a class="btn btn-outline-secondary" href="?page={{ events.previous_page_number }}"> previous </a>
  {% endif %}
  Page {{events.number }} of {{events.paginator.num_pages}}

  {% if events.has_next %}
  <a class="btn btn-outline-dark" href="?page={{events.next_page_number}}">Next</a>
  <a class="btn btn-outline-dark" href="?page={{events.paginator.num_pages}}"> last Page &raquo;</a>
  
  {% endif %}

</div>
 
{% endblock %}
